<!DOCTYPE html>
<html>
  <head> </head>
  <body>
    <div style="width: 75%;">
      <canvas id="canvas" style="border: 1px solid black;"></canvas>
    </div>
    <script defer src="https://unpkg.com/es-module-shims"></script>
    <script type="importmap-shim">
      {
        "imports": {
          "chart.js": "https://unpkg.com/chart.js@3.0.0-alpha.2/dist/chart.esm.js",
          "chart.js/helpers/canvas": "https://unpkg.com/chart.js@3.0.0-alpha.2/helpers/canvas.js",
          "chart.js/helpers/collection": "https://unpkg.com/chart.js@3.0.0-alpha.2/helpers/collection.js",
          "chart.js/helpers/color": "https://unpkg.com/chart.js@3.0.0-alpha.2/helpers/color.js",
          "chart.js/helpers/core": "https://unpkg.com/chart.js@3.0.0-alpha.2/helpers/core.js",
          "chart.js/helpers/curve": "https://unpkg.com/chart.js@3.0.0-alpha.2/helpers/curve.js",
          "chart.js/helpers/dom": "https://unpkg.com/chart.js@3.0.0-alpha.2/helpers/dom.js",
          "chart.js/helpers/easing": "https://unpkg.com/chart.js@3.0.0-alpha.2/helpers/easing.js",
          "chart.js/helpers/extras": "https://unpkg.com/chart.js@3.0.0-alpha.2/helpers/extras.js",
          "chart.js/helpers/interpolation": "https://unpkg.com/chart.js@3.0.0-alpha.2/helpers/interpolation.js",
          "chart.js/helpers/math": "https://unpkg.com/chart.js@3.0.0-alpha.2/helpers/math.js",
          "chart.js/helpers/options": "https://unpkg.com/chart.js@3.0.0-alpha.2/helpers/options.js",
          "chart.js/helpers/rtl": "https://unpkg.com/chart.js@3.0.0-alpha.2/helpers/rtl.js",
          "chart.js/helpers/segment": "https://unpkg.com/chart.js@3.0.0-alpha.2/helpers/segment.js",
          "@sgratzl/chartjs-esm-facade": "../src/index.js"
        }
      }
    </script>
    <script type="module-shim">
      import { Chart, CategoryScale, LinearScale, Rectangle, Legend, Line } from "@sgratzl/chartjs-esm-facade";
      import { BarController } from "@sgratzl/chartjs-esm-facade";

      Chart.register(CategoryScale, LinearScale, Rectangle, Legend, Line);

      class MyBarController extends BarController {}
      MyBarController.id = 'mybar';

      Chart.register(MyBarController);

      const ctx = document.querySelector('canvas').getContext('2d')
      new Chart(ctx, {
        type: 'mybar',
        data: {
          labels: ['A', 'B'],
          datasets: [
            {
              label: 'DS1',
              data: [1,2]
            }
          ]
        }
      });
    </script>
  </body>
</html>
